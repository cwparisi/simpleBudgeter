<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">
    </head>

    <body>

    <div id="wrapper">

    <%= render "layouts/navigation" %>

    <div id="page-wrapper">

        <div class="container-fluid">
            <div class="row">

                <div class="col-lg-12">

                    <h2 class="sub-header sectionTitle">Incomes</h2>

                    <div class="incomesDesktop">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Amount</th>
                                    <th>Frequency</th>
                                    <th>Weekly Hours</th>
                                    <th>Edit/Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                            <% @incomes.each do |income| %>
                                <tr>
                                    <td><%= income.name %></td>
                                    <td><%= number_to_currency(income.amount) %></td>
                                    <td><%= income.frequency %></td>
                                    <td><%= income.weekly_hours %></td>
                                    <td>
                                        <a href="/incomes/<%=income.id%>/edit"><i class="fa fa-pencil fa-fw" style="color: #388E3C"></i></a>
                                        <a data-confirm="Are you sure you want to delete this income?" rel="nofollow" data-method="delete" href="/incomes/<%=income.id%>"><i class="fa fa-trash fa-fw" style="color: #616161"></i></a>
                                    </td>
                                </tr>
                            <% end %>
                            </tbody>
                        </table>
                    </div>

                    <div class="incomesMobile">
                        <% @incomes.each do |income| %>
                        <div class="row transactionBanner" style="height: 90px; border-bottom: 1px solid gray;">
                            <div class="col-xs-10" style="padding:15px">
                                <span style="float:left;">
                                    <p style="margin: 0px; font-size: 24px; color: #616161"><%= income.name %></p>
                                    <p style="margin: 0px; font-size: 14px; color: #616161"><%= income.frequency %></p>
                                </span>
                                <span style="float: right; text-align: right; font-size: 28px; margin-top: 10px; color: #616161">
                                    <%= number_to_currency(income.amount) %>
                                </span>
                            </div>
                            <div class="col-xs-2" style="text-align: right; padding: 15px">
                                <a href="/incomes/<%=income.id%>/edit"><i class="fa fa-pencil fa-fw editBtn" style="font-size: 20px; margin-bottom: 17px"></i></a><br>
                                <a data-confirm="Are you sure you want to delete this income?" rel="nofollow" data-method="delete" href="/incomes/<%=income.id%>"><i class="fa fa-trash fa-fw deleteBtn" style="font-size: 20px"></i></a>
                            </div>
                        </div>
                        <% end %>

                        <a href="/incomes/new"><div class="floatingBtn">+</div></a>
                    </div>

                </div> <!-- col-lg-12 -->
            </div> <!-- row -->
        </br>

            <% if @totalIncomes == 0 %>
                <div class="alert alert-info noItemsAlert" role="alert" style="font-size: 18px; color: #1B5E20; background-color: #A5D6A7; border-color: #66BB6A"> Add an income to better track your monthly spending. </div>
            <% end %>

            <% if @totalIncomes != 0 %>
            <div class="row">
                 <div style="margin-left: 15px; color: #616161; font-size: 18px">Total Monthly Income: <b style="color: #388E3C"><%= number_to_currency(@totalIncomes) %></b></div>
            </div>
            <% end %>

        </div> <!-- container-fluid -->
    </div> <!-- page wrapper -->
</div> <!-- wrapper -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  </body>
</html>
